---
import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';
const pageTitle = "Tags";
const allPosts = await getCollection("posts");
const tags = [...new Set(allPosts.map((post) => post.data.tags).flat())];
---
<BaseLayout pageTitle={pageTitle}>
	<h1 class="title">Tags</h1>
    <div class="mt-8 flex flex-wrap gap-2">
        {tags.map((tag) => {
            return <a href={`/tags/${tag}`} class="inline-block px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
                {tag}
            </a>
        })}
    </div>
    <div class="flex mt-auto">
        <img 
          src="/bonsai-tree.webp" 
          alt="Bonsai tree. Creative Commons License (CC)." 
          class="flex mt-auto ml-auto h-auto sm:max-w-xs object-scale-down" 
          style="width: 200px; height: 200px;"
        />
    </div>
</BaseLayout>